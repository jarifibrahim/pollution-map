var sqlite3 = require('sqlite3')
var http = require('http');
var lats = [21.3,19.5,19.08333333,20.55,20.33333333,17.51666667,20.7,21.1,18.65,20.63333333,20.93333333,20.46666667,18.83333333,21.2,20.25,17.55,19.88333333,20.86666667,20.7,19.91666667,19.05,17.96666667,18.21666667,20.08333333,19.36666667,19.36666667,21.15,18.15,21.03333333,19,18.91666667,20.91666667,20.66666667,20.53333333,20.55,20.33333333,19.95,21.4,21.25,19.95,18.56666667,20.65,18.53333333,20.96666667,20.03333333,18.86666667,21.36666667,21.46666667,20.56666667,19.71666667,19.66666667,21.08333333,19.85,18.71666667,18.3,17.05,19.86666667,19.2,19.85,19.23333333,21.23333333,17.25,20.48333333,18.4,20.7,21.41666667,18.85,20.01666667,18.55,16.7,18.25,19.9,17.5,16.66666667,18.4,18.73333333,17.96666667,20.5,20.88333333,16.05,18.25,20.25,21.4,18.98333333,19.13333333,16.81666667,18.73333333,18.7,20.06666667,18.83333333,18.3,21.15,17.81666667,19.15,21.38333333,20.03333333,18.13333333,20.63333333,19.48333333,17.68333333,19.13333333,18.26666667,18.88333333,20.8,18,18.51666667,19.38333333,16.65,20.13333333,20.13333333,21.4,17.13333333,20.01666667,20.05,21.08333333,19.58333333,16.86666667,17.7,15.9,20.8,18.68333333,21.56666667,19.86666667,19.2,18.03333333,20.25,18.41666667,19.33333333,20.3,19.98333333,15.86666667,16.43333333,17.95,20.45,20.23333333,20.06666667,20.38333333]
var lons = [7.55,80.5,74.8,75.8,77.16666667,76.85,77.03333333,77.1,72.91666667,80,77.8,80.03333333,75.25,78.23333333,75.96666667,74.38333333,75.38333333,77.76666667,76.86666667,79.38333333,75.86666667,73.08333333,75.73333333,77.16666667,77.2,72.93333333,79.7,73.9,75.78333333,75.83333333,72.9,79.08333333,79.93333333,76.23333333,75.16666667,74.31666667,79.35,77.36666667,75.33333333,75.25,77.55,78.53333333,74.66666667,74.78333333,75.21666667,76.71666667,77.41666667,80.48333333,78.88333333,77.18333333,73.58333333,75.66666667,75.93333333,75.4,73,75.25,73.35,73.96666667,75.93333333,73.16666667,79.25,74.2,77.53333333,75.25,76.61666667,79.03333333,73.93333333,75.25,73.9,74.26666667,77.71666667,74.55,73.75,74.66666667,76.6,73.46666667,73.71666667,74.66666667,76.28333333,73.5,73.33333333,74.48333333,79.31666667,73.3,76.21666667,74.71666667,76.38333333,77.4,79.71666667,73.83333333,72.98333333,79.15,76.33333333,77.45,74.31666667,73.83333333,76.1,75.48333333,75.43333333,75.38333333,76.08333333,75.05,76.6,79.06666667,74.48333333,73.91666667,74.7,73.55,78.08333333,78.08333333,79.03333333,73.31666667,75.25,76,80.01666667,74.26666667,74.6,74.03333333,73.86666667,76.76666667,74.73333333,74.31666667,72.7,73.03333333,76.16666667,80.31666667,77.16666667,73.16666667,79.35,74.8,73.66666667,73.43333333,73.93333333,78.65,79.03333333,74.51666667,78.18333333]
var names = ["Achalpur","Ahiri","Ahmadnagar","Ajanta","Ajanta Range","Akalkot","Akola","Akot","Alibag","Ambgaon","Amravati","Armoi","Ashti","Ashti","Assaye","Aundh","Aurangabad","Badnera","Balapur","Balharshah","Bandra","Bankot","Barsi","Basim","Basmat","Bassein","Bhandara","Bhor","Bhusawal","Bir","Bombay, (Mumbai)","Bori","Bramhapuri","Buldana","Chalisgaon","Chandor","Chandrapur","Chikalda","Chopda","Daulatabad","Deglur","Deoli","Dhond","Dhule","Ellora","Gangakher","Gawilgarh","Gondia","Hinganghat","Hingoli","Igatpur","Jalgaon","Jalna","Jamkhed","Janjira","Jath","Jawhar","Junnar","Kadirabad","Kalyan","Kamptee","Karad","Karanja","Karmala","Khamgaon","Khapa","Khed","Khuldabad Rauza","Kirkee","Kolhapur","Kondalwadi","Kopargaon","Koyna, R.","Kurundvad","Latur","Lonavla","Mahabaleshwar","Malegaon","Malkapur","Malvan","Mangaon","Manmad","Mansar","Matheran","Mazalgaon","Miraj","Mominabad (Amba)","Mukher","Mul","Mulshi, L.","Murud","Nagpur","Naldurg","Nanded","Nandurbar","Nasik","Osmanabad","Pachora","Paithan","Pandharpur","Parbhani","Parenda","Parli","Pauni","Phaltan","Pune","Rahuri","Rajapur","Rajur","Rajura","Ramtek","Ratnagiri","Rauza (Khuldabad)","Sahyadriparvat Range","Sakoli","Sangamner","Sangli","Satara","Savantvadi","shegaon","Shrigonda","Taloda","Tarapur","Thane","Tuljapur","Tumsar","Udgir","Ulhasnagar","Umrer","Vaijapur","Vengurla","Vijayadurg","Wai","Wardha & dist.","Warora","Yeola","Yeotmal"]
var all_data = [];

var db = new sqlite3.Database("pollution.db")
var app = http.createServer(function(req,res){
    res.setHeader('Content-Type', 'application/json');
	res.setHeader("Access-Control-Allow-Origin", "*");
	res.setHeader("Access-Control-Allow-Headers", "X-Requested-With");
	res.setHeader('Access-Control-Allow-Headers', 'Content-Type');
  
	db.all("SELECT * from status", function(error, rows){
		res.end(JSON.stringify(rows, null, 3));
	})
});
app.listen(3000);